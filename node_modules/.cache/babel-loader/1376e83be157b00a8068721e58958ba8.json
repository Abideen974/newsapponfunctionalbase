{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abideen\\\\Desktop\\\\New project\\\\newsapp\\\\src\\\\components\\\\News.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport NewsItems from './NewsItems';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst News = props => {\n  _s();\n\n  const capitalizeFirstLetter = string => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [totalResults, setTotalResults] = useState([]);\n  useEffect(() => {\n    console.log(\"useEffect i am call\");\n    fetchingData();\n    document.title = capitalizeFirstLetter(`${props.category} -iNews `);\n  }, []);\n\n  const fetchingData = async () => {\n    console.log(\"FETCHING CALL\");\n    let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=${props.pageSize}`;\n    setLoading(true);\n    let data = await fetch(url);\n    let parseData = await data.json();\n    console.log(parseData);\n    setArticles(parseData.articles);\n    setTotalResults(parseData.totalResults);\n    setLoading(false);\n  };\n\n  const handleNext = async () => {\n    console.log(\"click was invoked next\");\n\n    if (!(page + 1 > Math.ceil(totalResults / props.pageSize))) {\n      let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${page + 1}&pageSize=${props.pageSize}`;\n      setLoading(true);\n      let data = await fetch(url);\n      let parseData = await data.json();\n      setPage(page + 1);\n      setArticles(parseData.articles);\n      setLoading(false);\n    }\n  };\n\n  const handlePrevious = async () => {\n    let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${page - 1}&pageSize=${props.pageSize}`;\n    setLoading(true);\n    let data = await fetch(url);\n    let parseData = await data.json();\n    setPage(page - 1);\n    setArticles(parseData.articles);\n    setLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center\",\n      children: [\"iNews Top Headlines From \", capitalizeFirstLetter(`${props.category}`)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 23\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: !loading && articles.map(elements => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(NewsItems, {\n            title: elements.title ? elements.title.slice(0, 45) : \"\",\n            description: elements.description ? elements.description.slice(0, 60) : \"\",\n            newsUrl: elements.url,\n            imgUrl: elements.urlToImage,\n            date: elements.publishedAt,\n            author: elements.author,\n            source: elements.source\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 45\n          }, this)\n        }, elements.url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 38\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contianer d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: page <= 1,\n        type: \"button\",\n        className: \"btn btn btn-dark\",\n        onClick: handlePrevious,\n        children: \"\\u2190 Preious\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: page + 1 > Math.ceil(totalResults / props.pageSize),\n        className: \"btn btn btn-dark\",\n        onClick: handleNext,\n        children: \"Next \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 7\n  }, this);\n};\n\n_s(News, \"88nlEd+2veoGobTaTyK/m0AY3Lo=\");\n\n_c = News;\nNews.defaultProps = {\n  country: \"us\",\n  pageSize: 6,\n  category: \"general\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};\nexport default News;\n\nvar _c;\n\n$RefreshReg$(_c, \"News\");","map":{"version":3,"sources":["C:/Users/Abideen/Desktop/New project/newsapp/src/components/News.js"],"names":["React","useState","useEffect","NewsItems","Spinner","PropTypes","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","articles","setArticles","page","setPage","loading","setLoading","totalResults","setTotalResults","console","log","fetchingData","document","title","category","url","country","pageSize","data","fetch","parseData","json","handleNext","Math","ceil","handlePrevious","map","elements","description","urlToImage","publishedAt","author","source","defaultProps","propTypes","number"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport NewsItems from './NewsItems'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst News = (props) => {\r\n\r\n\r\n\r\n\r\n   const capitalizeFirstLetter=(string)=> {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  \r\n   const [articles, setArticles] = useState([])\r\n   const [page, setPage] =useState(1);\r\n   const [loading , setLoading] = useState(false)\r\n   const [totalResults, setTotalResults] = useState([])\r\n\r\n  \r\n  useEffect(() => { \r\n     \r\n       console.log(\"useEffect i am call\");\r\n       fetchingData();\r\n  document.title = capitalizeFirstLetter(`${props.category} -iNews `)\r\n\r\n     \r\n   }, [])\r\n   \r\n    const fetchingData = async()=>{\r\n      console.log(\"FETCHING CALL\")\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=${props.pageSize}`;\r\n        setLoading(true);\r\n        let data = await fetch(url);\r\n        let parseData =await data.json();\r\n        console.log(parseData)\r\n        setArticles(parseData.articles)\r\n        setTotalResults(parseData.totalResults)\r\n        setLoading(false)\r\n        \r\n    }\r\n   const handleNext = async() =>{\r\n        console.log(\"click was invoked next\")\r\n        if(!(page + 1 > Math.ceil(totalResults/props.pageSize))){\r\n            let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${page + 1}&pageSize=${props.pageSize}`;\r\n           setLoading(true)\r\n        \r\n            let data = await fetch(url);\r\n            let  parseData =await data.json()\r\n           setPage(page + 1);\r\n           setArticles(parseData.articles);\r\n           setLoading(false);\r\n        }\r\n       \r\n    }\r\n   const handlePrevious = async () =>{\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${page - 1}&pageSize=${props.pageSize}`;\r\n        setLoading(true)\r\n        \r\n        let data = await fetch(url);\r\n        let  parseData =await data.json()\r\n        setPage(page - 1);\r\n        setArticles(parseData.articles);\r\n           setLoading(false);\r\n       \r\n        \r\n    }\r\n \r\n    return (\r\n       \r\n      <div className='container my-3'>\r\n          <h2 className='text-center'>iNews Top Headlines From {capitalizeFirstLetter(`${props.category}`)}</h2>\r\n          <hr />\r\n          <div className='text-center'>\r\n\r\n          {loading && <Spinner />}\r\n          </div>\r\n          <div className='row'>\r\n                    {\r\n                        !loading && articles.map((elements)=>{\r\n                            return   <div className='col-md-4' key={elements.url}>\r\n                                            <NewsItems title={elements.title? elements.title.slice(0,45):\"\"} \r\n                                            description = {elements.description? elements.description.slice(0,60) :\"\"} \r\n                                            newsUrl={elements.url}imgUrl={elements.urlToImage}\r\n                                             date={elements.publishedAt} author={elements.author} source={elements.source} />\r\n                                    </div>\r\n\r\n                        })\r\n                    }\r\n          </div>\r\n          <div className='contianer d-flex justify-content-between'>\r\n                <button disabled={page<=1} type=\"button\" className='btn btn btn-dark' onClick={handlePrevious}>&larr; Preious</button>\r\n                <button disabled={page + 1 > Math.ceil(totalResults/props.pageSize)} className='btn btn btn-dark' onClick={handleNext}>Next &rarr;</button>\r\n\r\n          </div>\r\n          \r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nNews.defaultProps ={\r\n  country: \"us\",\r\n  pageSize: 6,\r\n  category: \"general\"\r\n}\r\nNews.propTypes = {\r\ncountry: PropTypes.string,\r\npageSize: PropTypes.number,\r\ncategory: PropTypes.string,\r\n\r\n}\r\nexport default News"]},"metadata":{},"sourceType":"module"}