{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abideen\\\\Desktop\\\\New project\\\\newsapp\\\\src\\\\components\\\\News.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport NewsItems from './NewsItems';\nimport Spinner from './Spinner';\nimport PropTypes from 'prop-types';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst News = () => {\n  _s();\n\n  // document.title = this.capitalizeFirstLetter(`${this.props.category} -iNews `)\n  const capitalizeFirstLetter = string => {\n    return string.charAt(0).toUpperCase() + string.slice(1);\n  };\n\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [totalResults, setTotalResults] = useState([]);\n  useEffect(() => {\n    return () => {\n      fetchingData();\n    };\n  }, []);\n\n  const fetchingData = async props => {\n    let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=${props.pageSize}`;\n    setLoading(true);\n    let data = await fetch(url);\n    let parseData = await data.json();\n    setArticles(parseData.articles);\n    setTotalResults(parseData.totalResults);\n    setLoading(false);\n  };\n\n  const handleNext = async () => {\n    console.log(\"click was invoked next\");\n\n    if (!(this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize))) {\n      let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n      this.setState({\n        loading: true\n      });\n      let data = await fetch(url);\n      let parseData = await data.json();\n      this.setState({\n        page: this.state.page + 1,\n        articles: parseData.articles,\n        loading: false\n      });\n    }\n  };\n\n  const handlePrevious = async () => {\n    let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\n    this.setState({\n      loading: true\n    });\n    let data = await fetch(url);\n    let parseData = await data.json();\n    this.setState({\n      page: this.state.page - 1,\n      articles: parseData.articles,\n      loading: false\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container my-3\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center\",\n      children: [\"iNews Top Headlines From \", this.capitalizeFirstLetter(`${this.props.category}`)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: this.state.loading && /*#__PURE__*/_jsxDEV(Spinner, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 34\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: !this.state.loading && this.state.articles.map(elements => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(NewsItems, {\n            title: elements.title ? elements.title.slice(0, 45) : \"\",\n            description: elements.description ? elements.description.slice(0, 60) : \"\",\n            newsUrl: elements.url,\n            imgUrl: elements.urlToImage,\n            date: elements.publishedAt,\n            author: elements.author,\n            source: elements.source\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 45\n          }, this)\n        }, elements.url, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 38\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"contianer d-flex justify-content-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: this.state.page <= 1,\n        type: \"button\",\n        className: \"btn btn btn-dark\",\n        onClick: this.handlePrevious,\n        children: \"\\u2190 Preious\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        disabled: this.state.page + 1 > Math.ceil(this.state.totalResults / this.props.pageSize),\n        className: \"btn btn btn-dark\",\n        onClick: this.handleNext,\n        children: \"Next \\u2192\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 69,\n    columnNumber: 7\n  }, this);\n};\n\n_s(News, \"88nlEd+2veoGobTaTyK/m0AY3Lo=\");\n\n_c = News;\nNews.defaultProps = {\n  country: \"us\",\n  pageSize: 6,\n  category: \"general\"\n};\nNews.propTypes = {\n  country: PropTypes.string,\n  pageSize: PropTypes.number,\n  category: PropTypes.string\n};\nexport default News;\n\nvar _c;\n\n$RefreshReg$(_c, \"News\");","map":{"version":3,"sources":["C:/Users/Abideen/Desktop/New project/newsapp/src/components/News.js"],"names":["React","useState","useEffect","NewsItems","Spinner","PropTypes","News","capitalizeFirstLetter","string","charAt","toUpperCase","slice","articles","setArticles","page","setPage","loading","setLoading","totalResults","setTotalResults","fetchingData","props","url","country","category","pageSize","data","fetch","parseData","json","handleNext","console","log","state","Math","ceil","setState","handlePrevious","map","elements","title","description","urlToImage","publishedAt","author","source","defaultProps","propTypes","number"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport NewsItems from './NewsItems'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst News = () => {\r\n\r\n\r\n\r\n  // document.title = this.capitalizeFirstLetter(`${this.props.category} -iNews `)\r\n\r\n   const capitalizeFirstLetter=(string)=> {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  \r\n   const [articles, setArticles] = useState([])\r\n   const [page, setPage] =useState(1);\r\n   const [loading , setLoading] = useState(false)\r\n   const [totalResults, setTotalResults] = useState([])\r\n\r\n  \r\n   useEffect(() => { \r\n     return () => {\r\n       fetchingData()\r\n     }\r\n   }, [])\r\n   \r\n    const fetchingData = async(props)=>{\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=${props.pageSize}`;\r\n        setLoading(true);\r\n        let data = await fetch(url);\r\n        let  parseData =await data.json();\r\n        setArticles(parseData.articles)\r\n        setTotalResults(parseData.totalResults)\r\n        setLoading(false)\r\n        \r\n    }\r\n   const handleNext = async() =>{\r\n        console.log(\"click was invoked next\")\r\n        if(!(this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize))){\r\n            let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\r\n           this.setState({loading:true});\r\n            let data = await fetch(url);\r\n            let  parseData =await data.json()\r\n           \r\n            this.setState({\r\n               page: this.state.page + 1,\r\n               articles: parseData.articles,\r\n               loading: false\r\n            })\r\n        }\r\n       \r\n    }\r\n   const handlePrevious = async () =>{\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n        this.setState({loading:true});\r\n        let data = await fetch(url);\r\n        let  parseData =await data.json()\r\n        this.setState({\r\n           page: this.state.page - 1,\r\n           articles: parseData.articles,\r\n           loading: false\r\n        }) \r\n        \r\n    }\r\n \r\n    return (\r\n       \r\n      <div className='container my-3'>\r\n          <h2 className='text-center'>iNews Top Headlines From {this.capitalizeFirstLetter(`${this.props.category}`)}</h2>\r\n          <hr />\r\n          <div className='text-center'>\r\n\r\n          {this.state.loading && <Spinner />}\r\n          </div>\r\n          <div className='row'>\r\n                    {\r\n                        !this.state.loading && this.state.articles.map((elements)=>{\r\n                            return   <div className='col-md-4' key={elements.url}>\r\n                                            <NewsItems title={elements.title? elements.title.slice(0,45):\"\"} \r\n                                            description = {elements.description? elements.description.slice(0,60) :\"\"} \r\n                                            newsUrl={elements.url}imgUrl={elements.urlToImage}\r\n                                             date={elements.publishedAt} author={elements.author} source={elements.source} />\r\n                                    </div>\r\n\r\n                        })\r\n                    }\r\n          </div>\r\n          <div className='contianer d-flex justify-content-between'>\r\n                <button disabled={this.state.page<=1} type=\"button\" className='btn btn btn-dark' onClick={this.handlePrevious}>&larr; Preious</button>\r\n                <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} className='btn btn btn-dark' onClick={this.handleNext}>Next &rarr;</button>\r\n\r\n          </div>\r\n          \r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nNews.defaultProps ={\r\n  country: \"us\",\r\n  pageSize: 6,\r\n  category: \"general\"\r\n}\r\nNews.propTypes = {\r\ncountry: PropTypes.string,\r\npageSize: PropTypes.number,\r\ncategory: PropTypes.string,\r\n\r\n}\r\nexport default News"]},"metadata":{},"sourceType":"module"}