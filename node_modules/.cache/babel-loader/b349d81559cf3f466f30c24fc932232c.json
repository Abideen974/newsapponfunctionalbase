{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Abideen\\\\Desktop\\\\New project\\\\newsapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useState,useEffect}from'react';import NewsItems from'./NewsItems';import Spinner from'./Spinner';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";var News=function News(props){var capitalizeFirstLetter=function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);};var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setArticles=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),page=_useState4[0],setPage=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),totalResults=_useState8[0],setTotalResults=_useState8[1];useEffect(function(){console.log(\"useEffect i am call\");fetchingData();document.title=capitalizeFirstLetter(\"\".concat(props.category,\" -iNews \"));},[]);var fetchingData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"FETCHING CALL\");url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=\").concat(props.pageSize);setLoading(true);_context.next=5;return fetch(url);case 5:data=_context.sent;_context.next=8;return data.json();case 8:parseData=_context.sent;console.log(parseData);setArticles(parseData.articles);setTotalResults(parseData.totalResults);setLoading(false);case 13:case\"end\":return _context.stop();}}},_callee);}));return function fetchingData(){return _ref.apply(this,arguments);};}();var handleNext=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parseData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(\"click was invoked next\");if(page+1>Math.ceil(totalResults/props.pageSize)){_context2.next=13;break;}url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=\").concat(page+1,\"&pageSize=\").concat(props.pageSize);setLoading(true);_context2.next=6;return fetch(url);case 6:data=_context2.sent;_context2.next=9;return data.json();case 9:parseData=_context2.sent;setPage(page+1);setArticles(parseData.articles);setLoading(false);case 13:case\"end\":return _context2.stop();}}},_callee2);}));return function handleNext(){return _ref2.apply(this,arguments);};}();var handlePrevious=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parseData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=\").concat(page-1,\"&pageSize=\").concat(props.pageSize);setLoading(true);_context3.next=4;return fetch(url);case 4:data=_context3.sent;_context3.next=7;return data.json();case 7:parseData=_context3.sent;setPage(page-1);setArticles(parseData.articles);setLoading(false);case 11:case\"end\":return _context3.stop();}}},_callee3);}));return function handlePrevious(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",children:[\"iNews Top Headlines From \",capitalizeFirstLetter(\"\".concat(props.category))]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:loading&&/*#__PURE__*/_jsx(Spinner,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!loading&&articles.map(function(elements){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItems,{title:elements.title?elements.title.slice(0,45):\"\",description:elements.description?elements.description.slice(0,60):\"\",newsUrl:elements.url,imgUrl:elements.urlToImage,date:elements.publishedAt,author:elements.author,source:elements.source})},elements.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contianer d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:page<=1,type:\"button\",className:\"btn btn btn-dark\",onClick:handlePrevious,children:\"\\u2190 Preious\"}),/*#__PURE__*/_jsx(\"button\",{disabled:page+1>Math.ceil(totalResults/props.pageSize),className:\"btn btn btn-dark\",onClick:handleNext,children:\"Next \\u2192\"})]})]});};News.defaultProps={country:\"us\",pageSize:6,category:\"general\"};export default News;","map":{"version":3,"sources":["C:/Users/Abideen/Desktop/New project/newsapp/src/components/News.js"],"names":["React","useState","useEffect","NewsItems","Spinner","News","props","capitalizeFirstLetter","string","charAt","toUpperCase","slice","articles","setArticles","page","setPage","loading","setLoading","totalResults","setTotalResults","console","log","fetchingData","document","title","category","url","country","pageSize","fetch","data","json","parseData","handleNext","Math","ceil","handlePrevious","map","elements","description","urlToImage","publishedAt","author","source","defaultProps"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react'\r\nimport NewsItems from './NewsItems'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\n\r\nconst News = (props) => {\r\n\r\n\r\n\r\n\r\n   const capitalizeFirstLetter=(string)=> {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  \r\n   const [articles, setArticles] = useState([])\r\n   const [page, setPage] =useState(1);\r\n   const [loading , setLoading] = useState(false)\r\n   const [totalResults, setTotalResults] = useState([])\r\n\r\n  \r\n  useEffect(() => { \r\n     \r\n       console.log(\"useEffect i am call\");\r\n       fetchingData();\r\n  document.title = capitalizeFirstLetter(`${props.category} -iNews `)\r\n\r\n     \r\n   }, [])\r\n   \r\n    const fetchingData = async()=>{\r\n      console.log(\"FETCHING CALL\")\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=${props.pageSize}`;\r\n        setLoading(true);\r\n        let data = await fetch(url);\r\n        let parseData =await data.json();\r\n        console.log(parseData)\r\n        setArticles(parseData.articles)\r\n        setTotalResults(parseData.totalResults)\r\n        setLoading(false)\r\n        \r\n    }\r\n   const handleNext = async() =>{\r\n        console.log(\"click was invoked next\")\r\n        if(!(page + 1 > Math.ceil(totalResults/props.pageSize))){\r\n            let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${page + 1}&pageSize=${props.pageSize}`;\r\n           setLoading(true)\r\n        \r\n            let data = await fetch(url);\r\n            let  parseData =await data.json()\r\n           setPage(page + 1);\r\n           setArticles(parseData.articles);\r\n           setLoading(false);\r\n        }\r\n       \r\n    }\r\n   const handlePrevious = async () =>{\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${page - 1}&pageSize=${props.pageSize}`;\r\n        setLoading(true)\r\n        \r\n        let data = await fetch(url);\r\n        let  parseData =await data.json()\r\n        setPage(page - 1);\r\n        setArticles(parseData.articles);\r\n           setLoading(false);\r\n       \r\n        \r\n    }\r\n \r\n    return (\r\n       \r\n      <div className='container my-3'>\r\n          <h2 className='text-center'>iNews Top Headlines From {capitalizeFirstLetter(`${props.category}`)}</h2>\r\n          <hr />\r\n          <div className='text-center'>\r\n\r\n          {loading && <Spinner />}\r\n          </div>\r\n          <div className='row'>\r\n                    {\r\n                        !loading && articles.map((elements)=>{\r\n                            return   <div className='col-md-4' key={elements.url}>\r\n                                            <NewsItems title={elements.title? elements.title.slice(0,45):\"\"} \r\n                                            description = {elements.description? elements.description.slice(0,60) :\"\"} \r\n                                            newsUrl={elements.url}imgUrl={elements.urlToImage}\r\n                                             date={elements.publishedAt} author={elements.author} source={elements.source} />\r\n                                    </div>\r\n\r\n                        })\r\n                    }\r\n          </div>\r\n          <div className='contianer d-flex justify-content-between'>\r\n                <button disabled={page<=1} type=\"button\" className='btn btn btn-dark' onClick={handlePrevious}>&larr; Preious</button>\r\n                <button disabled={page + 1 > Math.ceil(totalResults/props.pageSize)} className='btn btn btn-dark' onClick={handleNext}>Next &rarr;</button>\r\n\r\n          </div>\r\n          \r\n\r\n      </div>\r\n    )\r\n  }\r\n\r\n\r\nNews.defaultProps ={\r\n  country: \"us\",\r\n  pageSize: 6,\r\n  category: \"general\"\r\n}\r\nNews.propTypes = {\r\ncountry: PropTypes.string,\r\npageSize: PropTypes.number,\r\ncategory: PropTypes.string,\r\n\r\n}\r\nexport default News"]},"metadata":{},"sourceType":"module"}