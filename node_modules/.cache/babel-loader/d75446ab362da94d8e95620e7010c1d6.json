{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/Abideen/Desktop/New project/newsapp/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Abideen\\\\Desktop\\\\New project\\\\newsapp\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{Component}from'react';import NewsItems from'./NewsItems';import Spinner from'./Spinner';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var News=/*#__PURE__*/function(_Component){_inherits(News,_Component);var _super=_createSuper(News);function News(props){var _this;_classCallCheck(this,News);_this=_super.call(this,props);_this.handleNext=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url,data,parseData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"click was invoked next\");if(_this.state.page+1>Math.ceil(_this.state.totalResults/_this.props.pageSize)){_context.next=11;break;}url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=\").concat(_this.state.page+1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context.next=6;return fetch(url);case 6:data=_context.sent;_context.next=9;return data.json();case 9:parseData=_context.sent;_this.setState({page:_this.state.page+1,articles:parseData.articles,loading:false});case 11:case\"end\":return _context.stop();}}},_callee);}));_this.handlePrevious=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var url,data,parseData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(_this.props.country,\"&category=\").concat(_this.props.category,\"&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=\").concat(_this.state.page-1,\"&pageSize=\").concat(_this.props.pageSize);_this.setState({loading:true});_context2.next=4;return fetch(url);case 4:data=_context2.sent;_context2.next=7;return data.json();case 7:parseData=_context2.sent;_this.setState({page:_this.state.page-1,articles:parseData.articles,loading:false});case 9:case\"end\":return _context2.stop();}}},_callee2);}));console.warn(\"Hello i am constructor from news components\");_this.state={articles:[],loading:false,page:1};document.title=_this.capitalizeFirstLetter(\"\".concat(_this.props.category,\" -iNews \"));return _this;}_createClass(News,[{key:\"capitalizeFirstLetter\",value:function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);}},{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var url,data,parseData;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:url=\"https://newsapi.org/v2/top-headlines?country=\".concat(this.props.country,\"&category=\").concat(this.props.category,\"&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=\").concat(this.props.pageSize);this.setState({loading:true});_context3.next=4;return fetch(url);case 4:data=_context3.sent;console.log(data);_context3.next=8;return data.json();case 8:parseData=_context3.sent;console.log(parseData);this.setState({articles:parseData.articles,totalResults:parseData.totalResults,loading:false});case 11:case\"end\":return _context3.stop();}}},_callee3,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",children:[\"iNews Top Headlines From \",this.capitalizeFirstLetter(\"\".concat(this.props.category,\"  \"))]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:this.state.loading&&/*#__PURE__*/_jsx(Spinner,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:!this.state.loading&&this.state.articles.map(function(elements){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItems,{title:elements.title?elements.title.slice(0,45):\"\",description:elements.description?elements.description.slice(0,60):\"\",newsUrl:elements.url,imgUrl:elements.urlToImage,date:elements.publishedAt,author:elements.author,source:elements.source})},elements.url);})}),/*#__PURE__*/_jsxs(\"div\",{className:\"contianer d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page<=1,type:\"button\",className:\"btn btn btn-dark\",onClick:this.handlePrevious,children:\"\\u2190 Preious\"}),/*#__PURE__*/_jsx(\"button\",{disabled:this.state.page+1>Math.ceil(this.state.totalResults/this.props.pageSize),className:\"btn btn btn-dark\",onClick:this.handleNext,children:\"Next \\u2192\"})]})]});}}]);return News;}(Component);News.defaultProps={country:\"us\",pageSize:6,category:\"general\"};export default News;","map":{"version":3,"sources":["C:/Users/Abideen/Desktop/New project/newsapp/src/components/News.js"],"names":["React","Component","NewsItems","Spinner","News","props","handleNext","console","log","state","page","Math","ceil","totalResults","pageSize","url","country","category","setState","loading","fetch","data","json","parseData","articles","handlePrevious","warn","document","title","capitalizeFirstLetter","string","charAt","toUpperCase","slice","map","elements","description","urlToImage","publishedAt","author","source","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport NewsItems from './NewsItems'\r\nimport Spinner from './Spinner';\r\nimport PropTypes from 'prop-types'\r\n\r\nexport class News extends Component {\r\n\r\n  static defaultProps ={\r\n      country: \"us\",\r\n      pageSize: 6,\r\n      category: \"general\"\r\n  }\r\n  static propTypes = {\r\n    country: PropTypes.string,\r\n    pageSize: PropTypes.number,\r\n    category: PropTypes.string,\r\n\r\n  }\r\n   capitalizeFirstLetter(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n  \r\n   \r\n  \r\n    constructor (props){\r\n        super(props);\r\n        console.warn(\"Hello i am constructor from news components\")\r\n        this.state = {\r\n            articles: [],\r\n            loading: false,\r\n            page:1\r\n        }\r\n        document.title = this.capitalizeFirstLetter(`${this.props.category} -iNews `)\r\n    }\r\n    async componentDidMount(){\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=1&pageSize=${this.props.pageSize}`;\r\n        this.setState({loading:true});\r\n        let data = await fetch(url);\r\n        console.log(data)\r\n        let  parseData =await data.json()\r\n        console.log(parseData)\r\n        \r\n        this.setState({articles: parseData.articles,\r\n             totalResults:parseData.totalResults,\r\n             loading: false\r\n            })\r\n    }\r\n    handleNext = async() =>{\r\n        console.log(\"click was invoked next\")\r\n        if(!(this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize))){\r\n            let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\r\n           this.setState({loading:true});\r\n            let data = await fetch(url);\r\n            let  parseData =await data.json()\r\n           \r\n            this.setState({\r\n               page: this.state.page + 1,\r\n               articles: parseData.articles,\r\n               loading: false\r\n            })\r\n        }\r\n       \r\n    }\r\n    handlePrevious = async () =>{\r\n        let url = `https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=cf1a0755d79c4196b5d23968abc6e3de&page=${this.state.page - 1}&pageSize=${this.props.pageSize}`;\r\n        this.setState({loading:true});\r\n        let data = await fetch(url);\r\n        let  parseData =await data.json()\r\n        this.setState({\r\n           page: this.state.page - 1,\r\n           articles: parseData.articles,\r\n           loading: false\r\n        }) \r\n        \r\n    }\r\n  render() {\r\n    return (\r\n       \r\n      <div className='container my-3'>\r\n          <h2 className='text-center'>iNews Top Headlines From {this.capitalizeFirstLetter(`${this.props.category}  `)}</h2>\r\n          <hr />\r\n          <div className='text-center'>\r\n\r\n          {this.state.loading && <Spinner />}\r\n          </div>\r\n          <div className='row'>\r\n                    {\r\n                        !this.state.loading && this.state.articles.map((elements)=>{\r\n                            return   <div className='col-md-4' key={elements.url}>\r\n                    {/* <p class=\"card-text\"><small class=\"text-muted\">Published at: {publishedAt}</small></p> */}\r\n                                            <NewsItems title={elements.title? elements.title.slice(0,45):\"\"} \r\n                                            description = {elements.description? elements.description.slice(0,60) :\"\"} \r\n                                            newsUrl={elements.url}imgUrl={elements.urlToImage}\r\n                                             date={elements.publishedAt} author={elements.author} source={elements.source} />\r\n                                    </div>\r\n\r\n                        })\r\n                    }\r\n          </div>\r\n          <div className='contianer d-flex justify-content-between'>\r\n                <button disabled={this.state.page<=1} type=\"button\" className='btn btn btn-dark' onClick={this.handlePrevious}>&larr; Preious</button>\r\n                <button disabled={this.state.page + 1 > Math.ceil(this.state.totalResults/this.props.pageSize)} className='btn btn btn-dark' onClick={this.handleNext}>Next &rarr;</button>\r\n\r\n          </div>\r\n          \r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default News"]},"metadata":{},"sourceType":"module"}